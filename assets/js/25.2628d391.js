(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{554:function(s,n,a){"use strict";a.r(n);var t=a(6),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"知识点一-this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识点一-this"}},[s._v("#")]),s._v(" 知识点一 "),a("code",[s._v("this")])]),s._v(" "),a("h3",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),a("ol",[a("li",[s._v("我们在 "),a("code",[s._v("js")]),s._v(" 中主要研究的都是函数中的 "),a("code",[s._v("this")])]),s._v(" "),a("li",[a("code",[s._v("js")]),s._v(" 中的 "),a("code",[s._v("this")]),s._v(" 代表的是当前行为执行的主体，"),a("code",[s._v("js")]),s._v(" 中的 "),a("code",[s._v("context")]),s._v(" 代表的是当前行为执行的环境(区域)")]),s._v(" "),a("li",[a("code",[s._v("this")]),s._v(" 是谁和函数在哪定义的和在哪执行的都没有任何的关系")]),s._v(" "),a("li",[s._v("如何区分"),a("code",[s._v("this")]),s._v(" ：")])]),s._v(" "),a("h3",{attrs:{id:"使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("h4",{attrs:{id:"场景一-普通函数的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景一-普通函数的调用"}},[s._v("#")]),s._v(" 场景一 普通函数的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：普通函数的调用，this指向的是window，例如")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function fn() {\n  console.log(this)\n}\n\nfn()     // this ---\x3e window\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"场景二-对象方法的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景二-对象方法的调用"}},[s._v("#")]),s._v(" 场景二 对象方法的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：对象方法的调用，this指的是该对象，且是最近的对象")]),s._v(" "),a("ul",[a("li",[s._v("函数执行，首先看函数名前面是否有 "),a("code",[s._v(".")]),s._v(" ，有的话"),a("code",[s._v(".")]),s._v(" 前面是谁"),a("code",[s._v("this")]),s._v(" 就是谁；没有的话"),a("code",[s._v("this")]),s._v(" 就是 "),a("code",[s._v("window")]),s._v(" ，例如")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function fn() {\n  console.log(this)\n}\nvar obj = {fn: fn}\n\nfn()     // this ---\x3e window\nobj.fn() // this ---\x3e obj\n\nfunction sum() {\n  fn()   // this ---\x3e window\n}\nsum()\n\nvar o = {\n    sum: function() {\n    console.log(this) // this ---\x3e o\n    fn() // this ---\x3e window\n  }\n}\no.sum()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ul",[a("li",[s._v("给元素的某个事件绑定方法，当事件触发的时候，执行对应的方法，方法中的 "),a("code",[s._v("this")]),s._v(" 是当前的元素")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function fn() {\n  console.log(this)\n}\ndocument.getElementById('div1').onclick = fn // this ---\x3e #div1\ndocument.getElementById('div1').onclick = function() {\n  console.log(this) // this ---\x3e #div1\n  fn() // this ---\x3e window\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"场景三-构造函数的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景三-构造函数的调用"}},[s._v("#")]),s._v(" 场景三 构造函数的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：构造函数的调用，this指的是实例化的新对象")]),s._v(" "),a("p",[s._v("在构造函数当中，类中(函数体中)出现的 "),a("code",[s._v("this.xxx")]),s._v(" 中的 "),a("code",[s._v("this")]),s._v(" 是当前类的一个实例")]),s._v(" "),a("p",[a("strong",[s._v("构造函数的公/私有方法")]),s._v("中 "),a("code",[s._v("this")]),s._v(" 查找步骤：")]),s._v(" "),a("ol",[a("li",[s._v("看方法执行的时候， "),a("code",[s._v(".")]),s._v(" 前面是谁，"),a("code",[s._v("this")]),s._v(" 就是谁")]),s._v(" "),a("li",[s._v("把函数体中的 "),a("code",[s._v("this")]),s._v(" 替换成分析的结果")]),s._v(" "),a("li",[s._v("按照原型链的查找模式找到对应的值即可")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function Fn() {\n  this.x = 100;\n  this.y = 200;\n  this.getX = function() {\n    console.log(`${this.x}`)\n  }\n}\nFn.prototype.getX = function() {\n  console.log(`${this.x}`)\n}\nFn.prototype.getY = function() {\n  console.log(`${this.y}`)\n}\nFn.prototype.setX = function(n) {\n    this.x = n\n}\nvar f1 = new Fn;\n\n// 1.getX执行时，.前面是f1\n// 2.console.log(`${this.x}`) --\x3e console.log(`${f1.x}`)\n// 3.f1的私有属性有x，即值为100\nf1.getX() \n\n// 1.getX执行时，.前面是f1.__proto__即Fn.prototype\n// 2.console.log(`${f1.__proto__.x}`) --\x3e console.log(`${Fn.prototype.x}`)\n// 3.f1.__proto__指向，Fn构造函数的原型Fn.prototype，Fn.prototype对象上没有属性x，继续往上一级Object的原型对象上查找，Object的原型对象也没有x属性，即值为undefined\nf1.__proto__.getX() \n\n// 1.setX执行时，.前面是Fn.prototype\n// 2.this.x = n --\x3e Fn.prototype.x = n\n// 3.Fn.prototype对象上没有属性x，即直接在Fn.prototype对象上增加x属性，值为300\nFn.prototype.setX(300) \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("h4",{attrs:{id:"场景四-apply和call调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景四-apply和call调用"}},[s._v("#")]),s._v(" 场景四 apply和call调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：apply和call调用，this指向参数中的对象")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var name = 'f';\nfunction fn(){\n    console.log(this.name);\n}\nvar f1 = {\n    name:'f1',\n}\nvar f2 = {\n    name:'f2',\n}\n\nfn.call(f1);// f1\nfn.call(f2);// f2\nfn() // f\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"场景五-匿名函数的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景五-匿名函数的调用"}},[s._v("#")]),s._v(" 场景五 匿名函数的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("："),a("strong",[s._v("匿名函数")]),s._v("调用，指向的是全局对象 "),a("code",[s._v("window")]),a("strong",[s._v("，自执行函数")]),s._v("中 "),a("code",[s._v("this")]),s._v(" 的永远是 "),a("code",[s._v("window")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//①先用()包起来,然后再后面跟 (参数) \n(function(data){\n    console.log(this, data);\n})(\"222\");\n\n//②先后面跟(参数),然后再()包起来\n(function(data){\n    console.log(this, data);\n}(\"333\"));\n\n//③正常函数格式，前面加 !|~|+|-\n!function(data){\n    console.log(this, data);\n}(\"444\");\n~function(data){\n  console.log(this, data);\n}('555')\n+function(data){\n  console.log(this, data);\n}('666')\n-function(data){\n  console.log(this, data);\n}('777')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"场景六-定时器中的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景六-定时器中的调用"}},[s._v("#")]),s._v(" 场景六 定时器中的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：定时器中的调用，this指向的是全局变量window")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var name = 'f';\nvar fn = setInterval(function(){\n    var name = 'f1';\n    console.log(this.name); // f\n    clearInterval(fn);\n},500);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"场景七-箭头函数中的调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景七-箭头函数中的调用"}},[s._v("#")]),s._v(" 场景七 箭头函数中的调用")]),s._v(" "),a("p",[a("strong",[s._v("核心")]),s._v("：箭头函数内部的 this 是词法作用域，由上下文确定")]),s._v(" "),a("p",[a("strong",[s._v("箭头函数的this跟外层function的this一致，外层function的this指向谁，箭头函数的this就指向谁，如果外层不是function则指****向window")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var obj={\n    id:123,\n    testFun:function(){\n        var a= ()=>console.log(this)\n        a();\n    }\n}\n//testFun的this指的是obj,则箭头函数的this指向obj。\nobj.testFun()  \n//testFun的this指向window，箭头函数的this指向window。\nobj.testFun.apply(null) \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"案例一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例一"}},[s._v("#")]),s._v(" 案例一")]),s._v(" "),a("p",[s._v("说明")]),s._v(" "),a("p",[s._v("预解释步骤：首先声明变量，然后自上而下执行代码")]),s._v(" "),a("p",[s._v("函数执行步骤：首先形参赋值，然后预解释")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var num = 20\nvar obj = {\n  num: 30,\n  fn:(function(num){\n    this.num *= 3\n    num += 15\n    var num = 45\n    return function() {\n      this.num *= 4\n      num += 20\n      console.log(num)\n    }\n  })(num) // 把全局变量num的值20赋值给自执行函数的形参，而不是obj下的30，如果想是obj下的30，我们需要写obj.num\n} \nvar fn = obj.fn\nfn()\nobj.fn()\nconsole.log(window.num, obj.num)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/738210/1597369268300-fc168cbc-2c9c-4bec-967d-86e180a18926.png?x-oss-process=image%2Fresize%2Cw_1492",alt:"image.png"}})])])}),[],!1,null,null,null);n.default=e.exports}}]);